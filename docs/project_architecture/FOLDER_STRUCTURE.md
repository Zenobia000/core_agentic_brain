# è³‡æ–™å¤¾çµæ§‹è¦åŠƒ - Core Agentic Brain

**åŸºæ–¼æ¼¸é€²å¼åˆ†å±¤æ¶æ§‹çš„ç›®éŒ„çµ„ç¹”**

## ğŸ“ å®Œæ•´ç›®éŒ„çµæ§‹

```
core_agentic_brain/
â”‚
â”œâ”€â”€ ğŸ“„ main.py                      # çµ±ä¸€å…¥å£é» (<50è¡Œ)
â”œâ”€â”€ ğŸ“„ config.yaml                  # ä¸»é…ç½®æª”æ¡ˆ
â”œâ”€â”€ ğŸ“„ .env                         # ç’°å¢ƒè®Šæ•¸ (gitignore)
â”œâ”€â”€ ğŸ“„ .env.example                 # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ ğŸ“„ requirements.txt             # Python ä¾è³´
â”œâ”€â”€ ğŸ“„ README.md                    # å°ˆæ¡ˆèªªæ˜
â”œâ”€â”€ ğŸ“„ LICENSE                      # æˆæ¬Šæ–‡ä»¶
â”œâ”€â”€ ğŸ“„ .gitignore                   # Git å¿½ç•¥è¦å‰‡
â”‚
â”œâ”€â”€ ğŸ“‚ core/                        # ğŸ”µ Layer 0: æ¥µç°¡æ ¸å¿ƒ (<500è¡Œ)
â”‚   â”œâ”€â”€ __init__.py                 # æ¨¡çµ„åˆå§‹åŒ–
â”‚   â”œâ”€â”€ agent.py                    # æ ¸å¿ƒ Agent é‚è¼¯ (<100è¡Œ)
â”‚   â”œâ”€â”€ llm.py                      # LLM å°è£å™¨ (<50è¡Œ)
â”‚   â”œâ”€â”€ tools.py                    # å·¥å…·ç®¡ç†å™¨ (<50è¡Œ)
â”‚   â”œâ”€â”€ config.py                   # é…ç½®è¼‰å…¥å™¨ (<50è¡Œ)
â”‚   â””â”€â”€ types.py                    # è³‡æ–™é¡å‹å®šç¾©
â”‚
â”œâ”€â”€ ğŸ“‚ tools/                       # ğŸ”§ å·¥å…·å¯¦ä½œ
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ğŸ“‚ builtin/                 # å…§å»ºå·¥å…·
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ python.py               # Python åŸ·è¡Œå™¨ (<50è¡Œ)
â”‚   â”‚   â”œâ”€â”€ files.py                # æª”æ¡ˆæ“ä½œ (<50è¡Œ)
â”‚   â”‚   â”œâ”€â”€ browser.py              # ç€è¦½å™¨å·¥å…·
â”‚   â”‚   â””â”€â”€ shell.py                # Shell å‘½ä»¤
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ custom/                  # è‡ªå®šç¾©å·¥å…·
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ example.py.template     # å·¥å…·ç¯„æœ¬
â”‚   â”‚
â”‚   â””â”€â”€ base.py                     # å·¥å…·åŸºé¡
â”‚
â”œâ”€â”€ ğŸ“‚ router/                      # ğŸŸ¡ Layer 1: æ™ºæ…§è·¯ç”± (æ¨™æº–æ¨¡å¼)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ analyzer.py                 # ä»»å‹™åˆ†æå™¨ (<100è¡Œ)
â”‚   â”œâ”€â”€ executor.py                 # è·¯ç”±åŸ·è¡Œå™¨ (<100è¡Œ)
â”‚   â””â”€â”€ strategies.py               # è·¯ç”±ç­–ç•¥
â”‚
â”œâ”€â”€ ğŸ“‚ agents/                      # ğŸ¤– ä»£ç†å¯¦ä½œ (æ¨™æº–æ¨¡å¼)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ base.py                     # ä»£ç†åŸºé¡
â”‚   â”œâ”€â”€ planner.py                  # è¦åŠƒä»£ç†
â”‚   â”œâ”€â”€ executor.py                 # åŸ·è¡Œä»£ç†
â”‚   â”œâ”€â”€ reviewer.py                 # å¯©æ ¸ä»£ç†
â”‚   â””â”€â”€ orchestrator.py             # å”èª¿å™¨
â”‚
â”œâ”€â”€ ğŸ“‚ enterprise/                  # ğŸ”´ Layer 2: ä¼æ¥­åŠŸèƒ½ (ä¼æ¥­æ¨¡å¼)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ ğŸ“‚ permissions/             # æ¬Šé™ç³»çµ±
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ rbac.py                 # è§’è‰²æ¬Šé™æ§åˆ¶
â”‚   â”‚   â””â”€â”€ policies.yaml           # æ¬Šé™ç­–ç•¥
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ audit/                   # å¯©è¨ˆç³»çµ±
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ logger.py               # å¯©è¨ˆæ—¥èªŒ
â”‚   â”‚   â””â”€â”€ storage.py              # å­˜å„²ä»‹é¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ mcp/                     # MCP å”è­°
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ gateway.py              # MCP é–˜é“
â”‚   â”‚   â”œâ”€â”€ server.py               # MCP ä¼ºæœå™¨
â”‚   â”‚   â””â”€â”€ client.py               # MCP å®¢æˆ¶ç«¯
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ cache/                   # å¿«å–ç³»çµ±
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ memory.py               # è¨˜æ†¶é«”å¿«å–
â”‚       â””â”€â”€ redis.py                # Redis å¿«å–
â”‚
â”œâ”€â”€ ğŸ“‚ web/                         # ğŸŒ Web ä»‹é¢ (å¯é¸)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ server.py                   # FastAPI ä¼ºæœå™¨ (<100è¡Œ)
â”‚   â”œâ”€â”€ api.py                      # API è·¯ç”±
â”‚   â”œâ”€â”€ websocket.py                # WebSocket è™•ç†
â”‚   â”œâ”€â”€ ğŸ“‚ static/                  # å‰ç«¯è³‡æº
â”‚   â”‚   â”œâ”€â”€ index.html              # ä¸»é é¢
â”‚   â”‚   â”œâ”€â”€ style.css               # æ¨£å¼
â”‚   â”‚   â””â”€â”€ app.js                  # æ‡‰ç”¨é‚è¼¯
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ templates/               # é é¢æ¨¡æ¿
â”‚       â””â”€â”€ chat.html
â”‚
â”œâ”€â”€ ğŸ“‚ cli/                         # ğŸ’» å‘½ä»¤è¡Œä»‹é¢
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ commands.py                 # CLI å‘½ä»¤
â”‚   â””â”€â”€ interactive.py              # äº’å‹•æ¨¡å¼
â”‚
â”œâ”€â”€ ğŸ“‚ config/                      # âš™ï¸ é…ç½®æª”æ¡ˆ
â”‚   â”œâ”€â”€ minimal.yaml                # æ¥µç°¡æ¨¡å¼é…ç½®
â”‚   â”œâ”€â”€ standard.yaml               # æ¨™æº–æ¨¡å¼é…ç½®
â”‚   â”œâ”€â”€ enterprise.yaml             # ä¼æ¥­æ¨¡å¼é…ç½®
â”‚   â””â”€â”€ examples/                   # é…ç½®ç¯„ä¾‹
â”‚       â”œâ”€â”€ claude.yaml             # Claude ç›¸å®¹é…ç½®
â”‚       â””â”€â”€ local.yaml              # æœ¬åœ°æ¨¡å‹é…ç½®
â”‚
â”œâ”€â”€ ğŸ“‚ prompts/                     # ğŸ’¬ æç¤ºæ¨¡æ¿
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ system.yaml                 # ç³»çµ±æç¤º
â”‚   â”œâ”€â”€ planning.yaml               # è¦åŠƒæç¤º
â”‚   â”œâ”€â”€ execution.yaml              # åŸ·è¡Œæç¤º
â”‚   â””â”€â”€ tools.yaml                  # å·¥å…·æç¤º
â”‚
â”œâ”€â”€ ğŸ“‚ tests/                       # ğŸ§ª æ¸¬è©¦å¥—ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py                 # Pytest é…ç½®
â”‚   â”œâ”€â”€ ğŸ“‚ unit/                    # å–®å…ƒæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ test_agent.py
â”‚   â”‚   â”œâ”€â”€ test_llm.py
â”‚   â”‚   â””â”€â”€ test_tools.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ integration/             # æ•´åˆæ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ test_routing.py
â”‚   â”‚   â””â”€â”€ test_agents.py
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ performance/             # æ€§èƒ½æ¸¬è©¦
â”‚   â”‚   â”œâ”€â”€ test_response_time.py
â”‚   â”‚   â””â”€â”€ test_memory.py
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ fixtures/                # æ¸¬è©¦è³‡æ–™
â”‚       â””â”€â”€ test_config.yaml
â”‚
â”œâ”€â”€ ğŸ“‚ scripts/                     # ğŸ› ï¸ è¼”åŠ©è…³æœ¬
â”‚   â”œâ”€â”€ install.sh                  # å®‰è£è…³æœ¬
â”‚   â”œâ”€â”€ setup.py                    # Python å®‰è£
â”‚   â”œâ”€â”€ test.sh                     # æ¸¬è©¦è…³æœ¬
â”‚   â”œâ”€â”€ lint.sh                     # ä»£ç¢¼æª¢æŸ¥
â”‚   â”œâ”€â”€ format.sh                   # ä»£ç¢¼æ ¼å¼åŒ–
â”‚   â””â”€â”€ docker/                     # Docker ç›¸é—œ
â”‚       â”œâ”€â”€ Dockerfile
â”‚       â””â”€â”€ docker-compose.yaml
â”‚
â”œâ”€â”€ ğŸ“‚ docs/                        # ğŸ“š æ–‡æª”
â”‚   â”œâ”€â”€ ğŸ“‚ project_architecture/    # æ¶æ§‹æ–‡æª”
â”‚   â”‚   â”œâ”€â”€ README.md
â”‚   â”‚   â”œâ”€â”€ 01_System_Architecture.md
â”‚   â”‚   â”œâ”€â”€ 02_System_Design.md
â”‚   â”‚   â”œâ”€â”€ 03_Technical_Implementation_Guide.md
â”‚   â”‚   â”œâ”€â”€ 04_API_Specification.md
â”‚   â”‚   â””â”€â”€ FOLDER_STRUCTURE.md    # æœ¬æ–‡ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ ğŸ“‚ guides/                  # ä½¿ç”¨æŒ‡å—
â”‚   â”‚   â”œâ”€â”€ quick_start.md
â”‚   â”‚   â”œâ”€â”€ tool_development.md
â”‚   â”‚   â”œâ”€â”€ agent_creation.md
â”‚   â”‚   â””â”€â”€ deployment.md
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‚ api/                     # API æ–‡æª”
â”‚       â””â”€â”€ openapi.yaml
â”‚
â”œâ”€â”€ ğŸ“‚ workspace/                   # ğŸ’¾ å·¥ä½œç©ºé–“ (gitignore)
â”‚   â”œâ”€â”€ .gitkeep
â”‚   â”œâ”€â”€ cache/                      # å¿«å–æª”æ¡ˆ
â”‚   â”œâ”€â”€ logs/                       # æ—¥èªŒæª”æ¡ˆ
â”‚   â””â”€â”€ temp/                       # è‡¨æ™‚æª”æ¡ˆ
â”‚
â””â”€â”€ ğŸ“‚ legacy/                      # ğŸ—„ï¸ èˆŠç‰ˆæª”æ¡ˆ (å¾…æ¸…ç†)
    â”œâ”€â”€ OpenManus/                  # èˆŠç³»çµ±
    â”œâ”€â”€ sunny_prompt/               # èˆŠæç¤º
    â””â”€â”€ old_tools/                  # èˆŠå·¥å…·

```

## ğŸ¯ ç›®éŒ„è¨­è¨ˆåŸå‰‡

### 1. åˆ†å±¤çµ„ç¹”
- **Layer 0 (core/)**: å¿…éœ€çš„æ¥µç°¡æ ¸å¿ƒ
- **Layer 1 (router/, agents/)**: å¯é¸çš„æ™ºæ…§åŠŸèƒ½
- **Layer 2 (enterprise/)**: ä¼æ¥­ç´šæ“´å±•

### 2. æ¨¡çµ„åŒ–è¨­è¨ˆ
- æ¯å€‹ç›®éŒ„æ˜¯ç¨ç«‹æ¨¡çµ„
- æ¸…æ™°çš„ä¾è³´é—œä¿‚
- æ˜“æ–¼æ·»åŠ /ç§»é™¤åŠŸèƒ½

### 3. æª”æ¡ˆå¤§å°é™åˆ¶
- æ ¸å¿ƒæª”æ¡ˆ < 100 è¡Œ
- å·¥å…·æª”æ¡ˆ < 50 è¡Œ
- æ¸¬è©¦æª”æ¡ˆä¸é™

### 4. å‘½åè¦ç¯„
- ç›®éŒ„ï¼šå°å¯« + åº•ç·š
- Python æª”æ¡ˆï¼šå°å¯« + åº•ç·š
- é¡åˆ¥ï¼šPascalCase
- å‡½æ•¸/è®Šæ•¸ï¼šsnake_case

## ğŸ“¦ æ¨¡çµ„è·è²¬

### core/ - æ¥µç°¡æ ¸å¿ƒ
- **agent.py**: ä¸»è¦é‚è¼¯å”èª¿
- **llm.py**: LLM æŠ½è±¡å±¤
- **tools.py**: å·¥å…·è¼‰å…¥/åŸ·è¡Œ
- **config.py**: é…ç½®ç®¡ç†

### tools/ - å·¥å…·ç”Ÿæ…‹
- **builtin/**: å®˜æ–¹å…§å»ºå·¥å…·
- **custom/**: ç”¨æˆ¶è‡ªå®šç¾©å·¥å…·
- **base.py**: å·¥å…·ä»‹é¢å®šç¾©

### router/ - æ™ºæ…§è·¯ç”±
- **analyzer.py**: ä»»å‹™è¤‡é›œåº¦åˆ†æ
- **executor.py**: è·¯ç”±æ±ºç­–åŸ·è¡Œ
- **strategies.py**: è·¯ç”±ç­–ç•¥å®šç¾©

### agents/ - ä»£ç†ç³»çµ±
- **planner.py**: ä»»å‹™è¦åŠƒ
- **executor.py**: ä»»å‹™åŸ·è¡Œ
- **reviewer.py**: çµæœå¯©æ ¸

### enterprise/ - ä¼æ¥­åŠŸèƒ½
- **permissions/**: RBAC æ¬Šé™æ§åˆ¶
- **audit/**: æ“ä½œå¯©è¨ˆ
- **mcp/**: æ¨™æº–å”è­°æ”¯æ´
- **cache/**: æ€§èƒ½å„ªåŒ–

## ğŸš€ ä½¿ç”¨æŒ‡å—

### æ¥µç°¡æ¨¡å¼ (åªéœ€ core/ + tools/)
```bash
python main.py  # å•Ÿå‹•æ¥µç°¡æ¨¡å¼
```

### æ¨™æº–æ¨¡å¼ (+ router/ + agents/)
```bash
MODE=standard python main.py
```

### ä¼æ¥­æ¨¡å¼ (å…¨éƒ¨åŠŸèƒ½)
```bash
MODE=enterprise python main.py
```

## ğŸ§¹ æ¸…ç†è¨ˆåŠƒ

### å¾…æ•´ç†ç›®éŒ„
1. **OpenManus/**: ç§»è‡³ legacy/
2. **sunny_prompt/**: æ•´åˆåˆ° prompts/
3. **excessive_documentation/**: æ­¸æª”æˆ–åˆªé™¤

### ä¿ç•™ç›®éŒ„
1. **docs/project_architecture/**: æ ¸å¿ƒæ–‡æª”
2. **core/**, **tools/**: Layer 0 æ ¸å¿ƒ
3. **tests/**: æ¸¬è©¦å¥—ä»¶

---

**æœ€å¾Œæ›´æ–°**: 2026-01-27
**ç‰ˆæœ¬**: 1.0