# ğŸ“š ä¼æ¥­çŸ¥è­˜åº«åŠ©æ‰‹ (RAG æ™ºèƒ½å•ç­”ç³»çµ±)

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.10+-blue?style=flat-square&logo=python" />
  <img src="https://img.shields.io/badge/React-18-61DAFB?style=flat-square&logo=react" />
  <img src="https://img.shields.io/badge/FastAPI-0.100+-009688?style=flat-square&logo=fastapi" />
  <img src="https://img.shields.io/badge/Qdrant-Vector_DB-FF4F64?style=flat-square" />
</p>

åŸºæ–¼ **Hybrid RAG (Retrieval-Augmented Generation)** æ¶æ§‹çš„ä¼æ¥­ç´šæ–‡ä»¶å•ç­”ç³»çµ±ã€‚ä¸Šå‚³ PDF æ–‡ä»¶ï¼Œé€éèªæ„æœå°‹èˆ‡ GPT-4o ç”Ÿæˆç²¾æº–å›ç­”ï¼Œä¸¦é™„å¸¶å¼•ç”¨ä¾†æºèˆ‡é ç¢¼ã€‚

![ç³»çµ±æˆªåœ–](docs/screenshot.png)

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

| åŠŸèƒ½ | èªªæ˜ |
|------|------|
| ğŸ“„ **PDF æ™ºæ…§è§£æ** | ä½¿ç”¨ IBM Docling é€²è¡Œæ–‡ä»¶çµæ§‹åŒ–è§£æ |
| ğŸ” **èªæ„æœå°‹** | Qdrant å‘é‡è³‡æ–™åº« + OpenAI Embeddings |
| ğŸ¤– **AI å•ç­”** | GPT-4o ç”Ÿæˆå›ç­”ï¼Œæ”¯æ´ç¹é«”ä¸­æ–‡ |
| ğŸ“‘ **å¼•ç”¨ä¾†æº** | æ¯å€‹å›ç­”é™„å¸¶ä¾†æºæ–‡ä»¶ã€é ç¢¼ã€ç›¸é—œåº¦åˆ†æ•¸ |
| ğŸ–±ï¸ **é é¢è·³è½‰** | é»æ“Šä¾†æºå¡ç‰‡ï¼ŒPDF è‡ªå‹•è·³è½‰è‡³å°æ‡‰é é¢ |
| â³ **è™•ç†ç‹€æ…‹** | å³æ™‚é¡¯ç¤ºæ–‡ä»¶è™•ç†é€²åº¦ |

---

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend                              â”‚
â”‚                  (React + Tailwind CSS)                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   PDF Viewer    â”‚         â”‚  Chat Interface â”‚            â”‚
â”‚  â”‚   (å·¦å´é¢æ¿)     â”‚         â”‚   (å³å´é¢æ¿)     â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ HTTP API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Backend (FastAPI)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚   Upload    â”‚  â”‚    Chat     â”‚  â”‚   Status    â”‚          â”‚
â”‚  â”‚   /upload   â”‚  â”‚    /chat    â”‚  â”‚  /status    â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚         â”‚                â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚  Ingestion  â”‚  â”‚  Retrieval  â”‚                           â”‚
â”‚  â”‚  Pipeline   â”‚  â”‚  + Generationâ”‚                          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Qdrant Vector DB                          â”‚
â”‚                   (Docker Container)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‚ å°ˆæ¡ˆçµæ§‹

```
rag-project/
â”œâ”€â”€ ğŸ“ frontend/                 # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.jsx   # å°è©±ä»‹é¢
â”‚   â”‚   â”‚   â””â”€â”€ PDFViewer.jsx       # PDF é–±è®€å™¨
â”‚   â”‚   â”œâ”€â”€ App.jsx                 # ä¸»æ‡‰ç”¨ç¨‹å¼
â”‚   â”‚   â””â”€â”€ index.css               # æ¨£å¼è¨­å®š
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ ğŸ“ src/                      # Python å¾Œç«¯
â”‚   â”œâ”€â”€ ingestion/               # è³‡æ–™è™•ç†æ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ parser.py               # PDF è§£æ (Docling)
â”‚   â”‚   â”œâ”€â”€ indexer.py              # å‘é‡ç´¢å¼• (Qdrant)
â”‚   â”‚   â””â”€â”€ pipeline.py             # è™•ç†æµç¨‹
â”‚   â”œâ”€â”€ retrieval/               # æª¢ç´¢ç”Ÿæˆæ¨¡çµ„
â”‚   â”‚   â”œâ”€â”€ search.py               # å‘é‡æœå°‹
â”‚   â”‚   â””â”€â”€ generation.py           # RAG ç”Ÿæˆ (GPT-4o)
â”‚   â””â”€â”€ main.py                  # FastAPI å…¥å£
â”‚
â”œâ”€â”€ ğŸ“ data/raw/                 # PDF ä¸Šå‚³ç›®éŒ„
â”œâ”€â”€ ğŸ“„ .env                      # ç’°å¢ƒè®Šæ•¸
â”œâ”€â”€ ğŸ“„ requirements.txt          # Python ä¾è³´
â””â”€â”€ ğŸ“„ README.md
```

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Python 3.10+
- Node.js 18+
- Docker Desktop
- OpenAI API Key

### 1. Clone å°ˆæ¡ˆ

```bash
git clone https://github.com/YOUR_USERNAME/rag-project.git
cd rag-project
```

### 2. è¨­å®šç’°å¢ƒè®Šæ•¸

```bash
cp .env.example .env
# ç·¨è¼¯ .envï¼Œå¡«å…¥ä½ çš„ OpenAI API Key
```

```env
OPENAI_API_KEY=sk-your-api-key-here
```

### 3. å•Ÿå‹• Qdrant å‘é‡è³‡æ–™åº«

```bash
docker run -d --name qdrant -p 6333:6333 -v qdrant_storage:/qdrant/storage qdrant/qdrant
```

### 4. å®‰è£ä¸¦å•Ÿå‹•å¾Œç«¯

```bash
# å»ºç«‹è™›æ“¬ç’°å¢ƒ
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate

# å®‰è£ä¾è³´
pip install -r requirements.txt

# å•Ÿå‹•å¾Œç«¯
python -m src.main
```

å¾Œç«¯å°‡åœ¨ `http://localhost:8001` å•Ÿå‹•

### 5. å®‰è£ä¸¦å•Ÿå‹•å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯å°‡åœ¨ `http://localhost:3000` å•Ÿå‹•

### 6. é–‹å§‹ä½¿ç”¨

1. æ‰“é–‹ç€è¦½å™¨å‰å¾€ `http://localhost:3000`
2. é»æ“Šå³ä¸Šè§’ã€Œä¸Šå‚³ PDFã€æŒ‰éˆ•
3. ç­‰å¾…æ–‡ä»¶è™•ç†å®Œæˆï¼ˆé¡¯ç¤ºç¶ è‰²ã€Œå¯ä»¥é–‹å§‹æå•ã€ï¼‰
4. åœ¨å°è©±æ¡†è¼¸å…¥å•é¡Œ
5. é»æ“Šå›ç­”ä¸‹æ–¹çš„ä¾†æºå¡ç‰‡ï¼ŒPDF æœƒè·³è½‰åˆ°å°æ‡‰é é¢

---

## ğŸ› ï¸ æŠ€è¡“å †ç–Š

| é ˜åŸŸ | æŠ€è¡“ |
|------|------|
| **Frontend** | React 18, Vite, Tailwind CSS, Lucide Icons |
| **Backend** | FastAPI, Python 3.10+ |
| **Vector DB** | Qdrant (Docker) |
| **AI Model** | GPT-4o, text-embedding-3-small |
| **PDF Parser** | IBM Docling |

---

## ğŸ“¡ API æ–‡ä»¶

### ä¸Šå‚³æ–‡ä»¶

```http
POST /upload
Content-Type: multipart/form-data

file: <PDF æª”æ¡ˆ>
```

**Response:**
```json
{
  "message": "ä¸Šå‚³æˆåŠŸï¼Œæ­£åœ¨è™•ç†ä¸­...",
  "file_path": "/path/to/file.pdf",
  "file_name": "file.pdf",
  "status": "processing"
}
```

### æŸ¥è©¢è™•ç†ç‹€æ…‹

```http
GET /status/{file_name}
```

**Response:**
```json
{
  "status": "completed",  // processing | completed | error
  "message": "æ–‡ä»¶è™•ç†å®Œæˆï¼"
}
```

### å•ç­”æŸ¥è©¢

```http
POST /chat
Content-Type: application/json

{
  "query": "ä½ çš„å•é¡Œ",
  "top_k": 5
}
```

**Response:**
```json
{
  "answer": "AI ç”Ÿæˆçš„å›ç­”...",
  "sources": [
    {
      "file_name": "document.pdf",
      "page_label": "3",
      "summary": "ç›¸é—œå…§å®¹æ‘˜è¦...",
      "score": 0.85
    }
  ]
}
```

---

## ğŸ§ª æ¸¬è©¦å»ºè­°

### èªæ„æœå°‹æ¸¬è©¦

ç³»çµ±ä½¿ç”¨èªæ„æœå°‹ï¼Œå³ä½¿ç”¨è©ä¸åŒä¹Ÿèƒ½æ‰¾åˆ°ç›¸é—œå…§å®¹ï¼š

| æ¸¬è©¦å•é¡Œ | é©—è­‰ç›®æ¨™ |
|---------|---------|
| ç”¨å£èªåŒ–å•æ³•æå• | èªæ„ç†è§£èƒ½åŠ› |
| å•æ–‡ä»¶ä¸­ä¸å­˜åœ¨çš„å…§å®¹ | å¹»è¦ºé˜²è­·ï¼ˆæ‡‰å›ç­”ã€Œæ‰¾ä¸åˆ°ã€ï¼‰ |
| è·¨æ®µè½æ•´åˆçš„å•é¡Œ | è³‡è¨Šæ•´åˆèƒ½åŠ› |

---

## ğŸ”§ å¸¸è¦‹å•é¡Œ

### Q: PDF ä¸Šå‚³å¾Œä¸€ç›´é¡¯ç¤ºã€Œè™•ç†ä¸­ã€ï¼Ÿ

æª¢æŸ¥å¾Œç«¯çµ‚ç«¯æ©Ÿæ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯ï¼Œç¢ºèª Qdrant æ­£åœ¨é‹è¡Œï¼š

```bash
docker ps  # æ‡‰è©²çœ‹åˆ° qdrant å®¹å™¨
```

### Q: æœå°‹çµæœä¸æº–ç¢ºï¼Ÿ

- å˜—è©¦ä¸åŒçš„å•æ³•
- å¢åŠ  `top_k` åƒæ•¸å–å¾—æ›´å¤šçµæœ
- æª¢æŸ¥ PDF æ˜¯å¦è¢«æ­£ç¢ºè§£æ

### Q: CORS éŒ¯èª¤ï¼Ÿ

ç¢ºèªå¾Œç«¯çš„ CORS è¨­å®šå…è¨±å‰ç«¯ originï¼š

```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=["http://localhost:3000"],
    ...
)
```

---

## ğŸ“ˆ æœªä¾†è¦åŠƒ

- [ ] é—œéµå­—é«˜äº®æ¨™è¨»
- [ ] å¤šä»½ PDF åŒæ™‚ç´¢å¼•
- [ ] Qdrant å‰å°ç®¡ç†ä»‹é¢
- [ ] è‡ªå‹•åˆ†æå ±å‘Šç”Ÿæˆ
- [ ] MCP å”è­°æ”¯æ´

---

## ğŸ“„ License

MIT License

---

## ğŸ™ è‡´è¬

- [OpenAI](https://openai.com/) - GPT-4o & Embeddings
- [Qdrant](https://qdrant.tech/) - Vector Database
- [IBM Docling](https://github.com/DS4SD/docling) - PDF Parser
- [FastAPI](https://fastapi.tiangolo.com/) - Backend Framework
- [React](https://react.dev/) - Frontend Framework