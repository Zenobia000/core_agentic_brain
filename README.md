# OpenCode Platform

<div align="center">

![OpenCode Logo](https://img.shields.io/badge/OpenCode-Platform-blue?style=for-the-badge&logo=openai)

**æ™ºèƒ½æ–‡ä»¶å•ç­”èˆ‡çŸ¥è­˜ç®¡ç†å¹³å°**

[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://python.org)
[![React](https://img.shields.io/badge/React-18+-61DAFB.svg)](https://reactjs.org)
[![FastAPI](https://img.shields.io/badge/FastAPI-0.100+-009688.svg)](https://fastapi.tiangolo.com)
[![Qdrant](https://img.shields.io/badge/Qdrant-Vector_DB-red.svg)](https://qdrant.tech)

[åŠŸèƒ½ç‰¹è‰²](#-åŠŸèƒ½ç‰¹è‰²) â€¢ [å¿«é€Ÿé–‹å§‹](#-å¿«é€Ÿé–‹å§‹) â€¢ [ç³»çµ±æ¶æ§‹](#-ç³»çµ±æ¶æ§‹) â€¢ [API æ–‡æª”](#-api-æ–‡æª”) â€¢ [é–‹ç™¼æŒ‡å—](#-é–‹ç™¼æŒ‡å—)

</div>

---

## ğŸ“– å°ˆæ¡ˆç°¡ä»‹

OpenCode Platform æ˜¯ä¸€å€‹åŸºæ–¼ RAG (Retrieval-Augmented Generation) æŠ€è¡“çš„æ™ºèƒ½æ–‡ä»¶å•ç­”ç³»çµ±ã€‚æ”¯æ´ä¸Šå‚³ PDF æ–‡ä»¶ï¼Œé€éèªæ„æœå°‹å’Œå¤§å‹èªè¨€æ¨¡å‹ï¼Œæä¾›æº–ç¢ºã€æœ‰å¼•ç”¨ä¾†æºçš„å›ç­”ã€‚

### ğŸ¯ æ ¸å¿ƒç‰¹é»

- **å¤šèªè¨€æ”¯æ´** - ä½¿ç”¨ Cohere embed-multilingual-v3.0ï¼Œæ”¯æ´ 100+ ç¨®èªè¨€
- **æ™ºèƒ½å•ç­”** - ç†è§£å£èªåŒ–å•é¡Œï¼Œè‡ªå‹•åˆ†è§£è¤‡é›œæŸ¥è©¢
- **é€æ˜æ€è€ƒéç¨‹** - é¡ä¼¼ ChatGPT/Manus çš„è©³ç´°åŸ·è¡Œæ­¥é©Ÿé¡¯ç¤º
- **æ–‡ä»¶é¸æ“‡** - å¯æŒ‡å®šæœå°‹ç¯„åœï¼Œç²¾æº–å›ç­”
- **å³æ™‚é è¦½** - å…§å»º PDF é è¦½å™¨ï¼Œæ–¹ä¾¿å°ç…§åŸæ–‡

---

## âœ¨ åŠŸèƒ½ç‰¹è‰²

### ğŸ“„ æ–‡ä»¶ç®¡ç†
- ä¸Šå‚³ PDF æ–‡ä»¶ï¼ˆæ”¯æ´ä¸­è‹±æ–‡æ··åˆï¼‰
- è‡ªå‹•è§£æå’Œåˆ†å¡Šï¼ˆDoclingReader + PyMuPDFï¼‰
- æ–‡ä»¶åˆ—è¡¨ç®¡ç†å’Œåˆªé™¤
- å…§å»º PDF é è¦½å™¨

### ğŸ” æ™ºèƒ½æœå°‹
- èªæ„å‘é‡æœå°‹ï¼ˆCohere/OpenAI embeddingï¼‰
- å¤šæŸ¥è©¢ä¸¦è¡Œæœå°‹
- æ–‡ä»¶éæ¿¾åŠŸèƒ½
- ç›¸é—œæ€§è©•åˆ†

### ğŸ’¬ æ™ºèƒ½å°è©±
- å£èªåŒ–å•é¡Œç†è§£ï¼ˆã€Œé€™ç¯‡åœ¨è¬›å•¥ã€â†’ å¤šè§’åº¦æœå°‹ï¼‰
- è¤‡é›œå•é¡Œåˆ†è§£ï¼ˆæ¯”è¼ƒã€åˆ†æé¡å•é¡Œï¼‰
- ä¸²æµå›æ‡‰ï¼ˆå³æ™‚é¡¯ç¤ºï¼‰
- ä¾†æºå¼•ç”¨æ¨™è¨»

### ğŸ§  æ€è€ƒéç¨‹è¦–è¦ºåŒ–
- åˆ†æå•é¡Œéšæ®µ
- è¦åŠƒæœå°‹ç­–ç•¥
- åŸ·è¡Œå·¥å…·å‘¼å«
- ç”Ÿæˆå›ç­”éç¨‹

---

## ğŸš€ å¿«é€Ÿé–‹å§‹

### ç’°å¢ƒéœ€æ±‚

- Python 3.10+
- Node.js 18+
- Dockerï¼ˆç”¨æ–¼ Qdrantï¼‰

### 1. å®‰è£ä¾è³´

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/your-repo/opencode-platform.git
cd opencode-platform

# å®‰è£ Python ä¾è³´
pip install -r requirements.txt

# å®‰è£å‰ç«¯ä¾è³´
cd frontend
npm install
cd ..
```

### 2. é…ç½®ç’°å¢ƒè®Šæ•¸

```bash
# è¤‡è£½ç¯„ä¾‹é…ç½®
cp .env.example .env

# ç·¨è¼¯ .env å¡«å…¥ API Keys
```

**.env é…ç½®èªªæ˜ï¼š**

```env
# å¿…è¦ - Embeddingï¼ˆäºŒé¸ä¸€ï¼‰
COHERE_API_KEY=your_cohere_api_key      # æ¨è–¦ï¼å¤šèªè¨€æ”¯æ´
OPENAI_API_KEY=sk-proj-your_key         # ç”¨æ–¼ç”Ÿæˆå›ç­”

# Qdrant å‘é‡è³‡æ–™åº«
QDRANT_HOST=localhost
QDRANT_PORT=6333

# å¯é¸
COHERE_EMBED_MODEL=embed-multilingual-v3.0
LOG_LEVEL=INFO
```

### 3. å•Ÿå‹•æœå‹™

```bash
# å•Ÿå‹• Qdrantï¼ˆå‘é‡è³‡æ–™åº«ï¼‰
docker run -d -p 6333:6333 qdrant/qdrant

# å•Ÿå‹•å¾Œç«¯ API
python -m cli.main api

# å¦é–‹çµ‚ç«¯ï¼Œå•Ÿå‹•å‰ç«¯
cd frontend
npm run dev
```

### 4. é–‹å§‹ä½¿ç”¨

1. é–‹å•Ÿç€è¦½å™¨è¨ªå• `http://localhost:5173`
2. é»æ“Šã€Œæ–‡ä»¶ã€ä¸Šå‚³ PDF
3. å‹¾é¸è¦æœå°‹çš„æ–‡ä»¶
4. é–‹å§‹å°è©±ï¼

---

## ğŸ— ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ä½¿ç”¨è€…ä»‹é¢å±¤                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    CLI      â”‚    TUI      â”‚         Web UI (React)          â”‚
â”‚  âœ… å®Œæˆ    â”‚  ğŸš§ åŸºç¤    â”‚         âœ… å®Œæˆ                 â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚             â”‚                      â”‚
       â–¼             â–¼                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      API Layer (FastAPI)                    â”‚
â”‚                        âœ… å®Œæˆ                              â”‚
â”‚  â€¢ /chat/stream    ä¸²æµå°è©±                                 â”‚
â”‚  â€¢ /search         èªæ„æœå°‹                                 â”‚
â”‚  â€¢ /upload         æ–‡ä»¶ä¸Šå‚³                                 â”‚
â”‚  â€¢ /documents      æ–‡ä»¶ç®¡ç†                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Orchestrator                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                  OrchestratorActor                    â”‚  â”‚
â”‚  â”‚    å”èª¿ Planner â†’ Router â†’ Executor â†’ Memory         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Planner   â”‚ â”‚   Router   â”‚ â”‚  Executor  â”‚ â”‚  Memory  â”‚ â”‚
â”‚  â”‚ å•é¡Œåˆ†è§£  â”‚ â”‚  ä»»å‹™è·¯ç”±  â”‚ â”‚  å·¥å…·åŸ·è¡Œ  â”‚ â”‚ è¨˜æ†¶ç®¡ç† â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Knowledge Base Service                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    Parser    â”‚  â”‚   Indexer    â”‚  â”‚  Retriever   â”‚      â”‚
â”‚  â”‚  PDF è§£æ    â”‚  â”‚  å‘é‡ç´¢å¼•    â”‚  â”‚  èªæ„æœå°‹    â”‚      â”‚
â”‚  â”‚  (Docling)   â”‚  â”‚  (Cohere)    â”‚  â”‚  (Qdrant)    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Infrastructure                            â”‚
â”‚         Qdrant âœ…  â”‚  Cohere âœ…  â”‚  OpenAI âœ…              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
opencode-platform/
â”œâ”€â”€ api/                          # FastAPI å¾Œç«¯
â”‚   â””â”€â”€ main.py                   # API ç«¯é»å®šç¾©
â”‚
â”œâ”€â”€ cli/                          # CLI å‘½ä»¤åˆ—ä»‹é¢
â”‚   â”œâ”€â”€ main.py                   # ä¸»ç¨‹å¼ (typer)
â”‚   â””â”€â”€ commands/                 # å­å‘½ä»¤
â”‚
â”œâ”€â”€ core/                         # æ ¸å¿ƒæ¨¡çµ„
â”‚   â”œâ”€â”€ engine.py                 # ä¸»å¼•æ“
â”‚   â”œâ”€â”€ context.py                # Context Manager
â”‚   â”œâ”€â”€ events.py                 # Event Bus
â”‚   â””â”€â”€ protocols.py              # ä»‹é¢å®šç¾©
â”‚
â”œâ”€â”€ orchestrator/                 # Actor ç·¨æ’ç³»çµ±
â”‚   â””â”€â”€ actors/
â”‚       â”œâ”€â”€ orchestrator.py       # ä¸»ç·¨æ’å™¨
â”‚       â”œâ”€â”€ planner.py            # æ„åœ–è¦åŠƒï¼ˆå£èªç†è§£ï¼‰
â”‚       â”œâ”€â”€ router.py             # ä»»å‹™è·¯ç”±
â”‚       â”œâ”€â”€ executor.py           # ä»»å‹™åŸ·è¡Œ
â”‚       â””â”€â”€ memory.py             # è¨˜æ†¶ç®¡ç†
â”‚
â”œâ”€â”€ services/                     # MCP æœå‹™
â”‚   â””â”€â”€ knowledge_base/           # RAG çŸ¥è­˜åº«
â”‚       â”œâ”€â”€ parser.py             # PDF è§£æï¼ˆDocling + PyMuPDFï¼‰
â”‚       â”œâ”€â”€ indexer.py            # å‘é‡ç´¢å¼•ï¼ˆCohere/OpenAIï¼‰
â”‚       â”œâ”€â”€ retriever.py          # èªæ„æœå°‹
â”‚       â””â”€â”€ service.py            # æœå‹™æ•´åˆ
â”‚
â”œâ”€â”€ frontend/                     # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx               # ä¸»çµ„ä»¶
â”‚   â”‚   â””â”€â”€ components/
â”‚   â”‚       â”œâ”€â”€ ChatInterface.jsx # å°è©±ä»‹é¢
â”‚   â”‚       â”œâ”€â”€ ProcessSteps.jsx  # æ€è€ƒéç¨‹é¡¯ç¤º
â”‚   â”‚       â”œâ”€â”€ PDFViewer.jsx     # PDF é è¦½
â”‚   â”‚       â””â”€â”€ SourceCard.jsx    # ä¾†æºå¡ç‰‡
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
â”œâ”€â”€ data/                         # è³‡æ–™ç›®éŒ„
â”‚   â”œâ”€â”€ raw/                      # åŸå§‹ PDF å­˜æ”¾
â”‚   â””â”€â”€ documents/                # æ–‡ä»¶è³‡æ–™å¤¾
â”‚
â”œâ”€â”€ tests/                        # æ¸¬è©¦
â”‚   â”œâ”€â”€ RAG_TEST_PLAN.md          # RAG æ¸¬è©¦è¨ˆåŠƒ
â”‚   â”œâ”€â”€ test_rag.py               # è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬
â”‚   â””â”€â”€ QUICK_TEST_GUIDE.md       # å¿«é€Ÿæ¸¬è©¦æŒ‡å—
â”‚
â”œâ”€â”€ .env.example                  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
â”œâ”€â”€ requirements.txt              # Python ä¾è³´
â””â”€â”€ README.md                     # æœ¬æ–‡ä»¶
```

---

## ğŸ“¡ API æ–‡æª”

### å°è©±ç«¯é»

#### `POST /chat/stream`
ä¸²æµå°è©±ï¼ˆSSEï¼‰

```json
{
  "message": "é€™ç¯‡è«–æ–‡åœ¨è¬›ä»€éº¼ï¼Ÿ",
  "session_id": "web_session",
  "selected_docs": ["paper.pdf"]
}
```

**å›æ‡‰ï¼ˆServer-Sent Eventsï¼‰ï¼š**
```
data: {"type": "thinking", "content": "åˆ†æå•é¡Œ..."}
data: {"type": "plan", "content": "è¦åŠƒæœå°‹ç­–ç•¥", "data": {"queries": [...]}}
data: {"type": "tool_call", "content": "rag_search_multiple", "data": {...}}
data: {"type": "tool_result", "content": "æ‰¾åˆ° 10 å€‹çµæœ", "data": {...}}
data: {"type": "answer", "content": "é€™ç¯‡è«–æ–‡ä¸»è¦æ¢è¨..."}
data: {"type": "sources", "data": {"sources": [...]}}
data: [DONE]
```

### æœå°‹ç«¯é»

#### `POST /search`
èªæ„æœå°‹

```json
{
  "query": "attention mechanism",
  "top_k": 5,
  "filters": {"file_name": ["paper.pdf"]}
}
```

#### `POST /search/filtered`
æŒ‡å®šæ–‡ä»¶æœå°‹

```json
{
  "query": "transformer architecture",
  "filenames": ["paper1.pdf", "paper2.pdf"],
  "top_k": 3
}
```

### æ–‡ä»¶ç«¯é»

| ç«¯é» | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/documents` | GET | åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶ |
| `/upload` | POST | ä¸Šå‚³ PDF æ–‡ä»¶ |
| `/documents/{name}/pdf` | GET | å–å¾— PDFï¼ˆé è¦½ï¼‰ |
| `/documents/{name}/pdf?download=true` | GET | ä¸‹è¼‰ PDF |
| `/documents/{name}/content` | GET | å–å¾—æ–‡ä»¶å…§å®¹ï¼ˆchunksï¼‰ |
| `/documents/{name}` | DELETE | åˆªé™¤æ–‡ä»¶ |

### ç®¡ç†ç«¯é»

| ç«¯é» | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/health` | GET | å¥åº·æª¢æŸ¥ |
| `/stats` | GET | ç³»çµ±çµ±è¨ˆ |
| `/debug/qdrant` | GET | Qdrant é™¤éŒ¯è³‡è¨Š |
| `/debug/qdrant/reset` | POST | é‡ç½®è³‡æ–™åº« |

---

## ğŸ”§ CLI å‘½ä»¤

```bash
# å°è©±
python -m cli.main chat "ä»€éº¼æ˜¯ Transformer?"
python -m cli.main chat -i  # äº’å‹•æ¨¡å¼

# æœå°‹
python -m cli.main search "attention mechanism"

# æ–‡ä»¶ç®¡ç†
python -m cli.main upload file1.pdf file2.pdf
python -m cli.main docs
python -m cli.main docs-delete paper.pdf

# çµ±è¨ˆ
python -m cli.main stats

# å•Ÿå‹•æœå‹™
python -m cli.main api      # å•Ÿå‹• API ä¼ºæœå™¨
python -m cli.main tui      # å•Ÿå‹• TUI ä»‹é¢
```

---

## ğŸ§ª æ¸¬è©¦

### è‡ªå‹•åŒ–æ¸¬è©¦

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
python tests/test_rag.py

# åªæ¸¬è©¦å£èªåŒ–ç†è§£
python tests/test_rag.py --colloquial

# åªæ¸¬è©¦è¤‡é›œèªæ„åˆ†è§£
python tests/test_rag.py --complex
```

### æ¸¬è©¦ç”¨ä¾‹ç¯„ä¾‹

**å£èªåŒ–æ¸¬è©¦ï¼š**
```
é€™ç¯‡åœ¨è¬›å•¥
æœ‰æ²’æœ‰è¬›åˆ°åœ–ç‰‡çš„éƒ¨åˆ†
ä»–å€‘æ€éº¼è¨“ç·´çš„å•Š
çµæœå¥½ä¸å¥½
è·Ÿå…¶ä»–æ–¹æ³•æ¯”èµ·ä¾†æ€æ¨£
```

**è¤‡é›œèªæ„åˆ†è§£ï¼š**
```
æ¯”è¼ƒé€™å€‹æ–¹æ³•å’Œå‚³çµ±æ–¹æ³•çš„å·®ç•°
é€™å€‹æ¨¡å‹çš„è¨“ç·´æˆæœ¬å’Œæ¨ç†é€Ÿåº¦å¦‚ä½•ï¼Ÿ
å¾æ•¸æ“šé è™•ç†åˆ°æ¨¡å‹éƒ¨ç½²çš„å®Œæ•´æµç¨‹æ˜¯ä»€éº¼ï¼Ÿ
```

---

## âš™ï¸ é…ç½®èªªæ˜

### Embedding æä¾›è€…

| æä¾›è€… | å‘é‡ç¶­åº¦ | å¤šèªè¨€ | èªªæ˜ |
|--------|----------|--------|------|
| **Cohere** | 1024 | âœ… å„ªç§€ | æ¨è–¦ï¼embed-multilingual-v3.0 |
| OpenAI | 1536 | ğŸ”¶ ä¸€èˆ¬ | text-embedding-3-small |

### åˆ‡æ› Embedding æä¾›è€…

ç³»çµ±æœƒè‡ªå‹•åµæ¸¬ï¼š
- æœ‰ `COHERE_API_KEY` â†’ ä½¿ç”¨ Cohereï¼ˆ1024 ç¶­ï¼‰
- åªæœ‰ `OPENAI_API_KEY` â†’ ä½¿ç”¨ OpenAIï¼ˆ1536 ç¶­ï¼‰

**âš ï¸ æ³¨æ„ï¼š** åˆ‡æ›æä¾›è€…å¾Œéœ€è¦é‡æ–°ç´¢å¼•æ–‡ä»¶ï¼

```bash
# é‡ç½®è³‡æ–™åº«
curl -X POST http://localhost:8000/debug/qdrant/reset

# é‡æ–°ä¸Šå‚³æ–‡ä»¶
```

---

## ğŸ›  é–‹ç™¼æŒ‡å—

### æœ¬åœ°é–‹ç™¼

```bash
# å¾Œç«¯ç†±é‡è¼‰
uvicorn api.main:app --reload --port 8000

# å‰ç«¯é–‹ç™¼
cd frontend
npm run dev
```

### æ—¥èªŒç´šåˆ¥

```env
LOG_LEVEL=DEBUG  # è©³ç´°æ—¥èªŒ
LOG_LEVEL=INFO   # ä¸€èˆ¬æ—¥èªŒ
```

---

## ğŸ“Š ç›®å‰å®ŒæˆåŠŸèƒ½

### Phase 1 âœ… å·²å®Œæˆ

| åŠŸèƒ½ | ç‹€æ…‹ | èªªæ˜ |
|------|------|------|
| å‰ç«¯æ•´åˆ | âœ… | React + Vite + Tailwind |
| PDF ä¸Šå‚³èˆ‡è§£æ | âœ… | Docling + PyMuPDF |
| èªæ„æœå°‹ | âœ… | Cohere/OpenAI embedding |
| æ™ºèƒ½å°è©± | âœ… | å£èªç†è§£ + å•é¡Œåˆ†è§£ |
| æ€è€ƒéç¨‹è¦–è¦ºåŒ– | âœ… | é¡ä¼¼ ChatGPT/Manus |
| æ–‡ä»¶é¸æ“‡éæ¿¾ | âœ… | æŒ‡å®šæœå°‹ç¯„åœ |
| PDF é è¦½ | âœ… | å…§å»ºé è¦½å™¨ |
| ä¾†æºå¼•ç”¨ | âœ… | é¡¯ç¤ºå¼•ç”¨ä¾†æº |

---

## ğŸ—º æœªä¾†è¦åŠƒ

### Phase 2ï¼šMCP Services å®Œå–„
- [ ] Sandbox Service - å®‰å…¨åŸ·è¡Œç¨‹å¼ç¢¼
- [ ] RepoOps Service - Git æ“ä½œ
- [ ] Web Search - ç¶²è·¯æœå°‹æ•´åˆ

### Phase 3ï¼šä¼æ¥­åŠŸèƒ½
- [ ] å®Œæ•´ RBAC/ABAC æ¬Šé™
- [ ] å¯©è¨ˆæ—¥èªŒ UI
- [ ] æˆæœ¬è¿½è¹¤å„€è¡¨æ¿
- [ ] å¤šç”¨æˆ¶æ”¯æ´

### Phase 4ï¼šé€²éšåŠŸèƒ½
- [ ] å¤š Agent å”ä½œ
- [ ] æŠ€èƒ½å¸‚å ´
- [ ] æ’ä»¶ç³»çµ±
- [ ] é›²ç«¯éƒ¨ç½²

---

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ Pull Requestï¼

---

## ğŸ“„ æˆæ¬Š

MIT License

---

## ğŸ™ è‡´è¬

- [Cohere](https://cohere.ai/) - å¤šèªè¨€ Embedding
- [Qdrant](https://qdrant.tech/) - å‘é‡è³‡æ–™åº«
- [OpenAI](https://openai.com/) - å¤§å‹èªè¨€æ¨¡å‹
- [FastAPI](https://fastapi.tiangolo.com/) - Web æ¡†æ¶
- [React](https://reactjs.org/) - å‰ç«¯æ¡†æ¶
- [Docling](https://github.com/DS4SD/docling) - PDF è§£æ

---

<div align="center">

**Made with â¤ï¸ by OpenCode Team**

</div>
