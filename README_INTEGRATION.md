# OpenManus æ•´åˆæ¶æ§‹èªªæ˜

## ğŸš€ å°ˆæ¡ˆæ¦‚è¦½

æœ¬å°ˆæ¡ˆæˆåŠŸæ•´åˆ OpenManus AI Agent æ¡†æ¶èˆ‡ç¾ä»£åŒ–çš„ Hacker UIï¼Œå¯¦ç¾äº†å®Œæ•´çš„æ€ç¶­éˆå¯è¦–åŒ–ç³»çµ±ã€‚

## ğŸ—ï¸ æ¶æ§‹é·ç§»æˆæœ

### å¾ `/web` åˆ° `/Hacker_UI_Design` çš„å®Œæ•´é‡æ§‹

æˆåŠŸå°‡èˆŠæ¶æ§‹é·ç§»ä¸¦å‡ç´šç‚ºäº‹ä»¶é©…å‹•çš„ç¾ä»£åŒ–ç³»çµ±ï¼š

```
èˆŠæ¶æ§‹ (/web)                    â†’  æ–°æ¶æ§‹ (/Hacker_UI_Design)
â”œâ”€â”€ å–®é«”å¼è¼¸å‡º                    â†’  â”œâ”€â”€ çµæ§‹åŒ–äº‹ä»¶ç³»çµ± (StepEvent)
â”œâ”€â”€ æ··é›œçš„æ–‡å­—æµ                  â†’  â”œâ”€â”€ é›™é¢æ¿ UI (ç­”æ¡ˆ + æ€ç¶­éˆ)
â””â”€â”€ ç„¡çµæ§‹çš„æ—¥èªŒ                  â†’  â””â”€â”€ å®Œæ•´çš„ Artifact ç®¡ç†
```

## ğŸ“ ç³»çµ±æ¶æ§‹

### æ ¸å¿ƒçµ„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         å‰ç«¯ (React + TypeScript)            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Hacker_UI_Design/                                          â”‚
â”‚  â”œâ”€â”€ src/components/                                        â”‚
â”‚  â”‚   â”œâ”€â”€ ChatInterface.tsx    # ä¸»èŠå¤©ä»‹é¢ï¼ˆé›™é¢æ¿æ¨¡å¼ï¼‰     â”‚
â”‚  â”‚   â”œâ”€â”€ StepEventPanel.tsx   # æ€ç¶­éˆæ™‚é–“ç·šé¡¯ç¤º            â”‚
â”‚  â”‚   â”œâ”€â”€ ThinkingPanel.tsx    # æ€è€ƒç‹€æ…‹é¢æ¿               â”‚
â”‚  â”‚   â””â”€â”€ ToolsPanel.tsx       # å·¥å…·åŸ·è¡Œç‹€æ…‹               â”‚
â”‚  â””â”€â”€ src/hooks/                                             â”‚
â”‚      â””â”€â”€ useManusChat.tsx     # WebSocket é€£æ¥ç®¡ç†          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†• WebSocket
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      å¾Œç«¯ (FastAPI + Python)                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  OpenManus/                                                 â”‚
â”‚  â”œâ”€â”€ app/events/                                            â”‚
â”‚  â”‚   â””â”€â”€ step_event.py        # çµæ§‹åŒ–äº‹ä»¶ç³»çµ±              â”‚
â”‚  â”œâ”€â”€ app/agent/                                            â”‚
â”‚  â”‚   â”œâ”€â”€ manus.py             # åŸå§‹ Manus Agent           â”‚
â”‚  â”‚   â””â”€â”€ event_aware_manus.py # äº‹ä»¶æ„ŸçŸ¥ Agent             â”‚
â”‚  â””â”€â”€ web_server.py            # FastAPI ä¼ºæœå™¨              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ¯ æ ¸å¿ƒæ”¹é€²

### 1. çµæ§‹åŒ–äº‹ä»¶ç³»çµ± (StepEvent)

```python
class StepEvent:
    phase: EventPhase      # think | act | observe | final | error
    role: EventRole        # system | agent | tool | user
    message: str           # äººé¡å¯è®€æè¿°
    tool: ToolInfo         # å·¥å…·åŸ·è¡Œç´°ç¯€
    artifacts: List[Artifact]  # ç”Ÿæˆçš„æ–‡ä»¶/URL
```

### 2. é›™é¢æ¿ UI å¸ƒå±€

- **å·¦å´é¢æ¿ (60%)**ï¼šåƒ…é¡¯ç¤ºæœ€çµ‚ç­”æ¡ˆå’Œç”¨æˆ¶å°è©±
- **å³å´é¢æ¿ (40%)**ï¼šå®Œæ•´çš„æ€ç¶­éˆæ™‚é–“ç·š
  - Step-by-step åŸ·è¡Œéç¨‹
  - å·¥å…·èª¿ç”¨è©³æƒ…
  - éŒ¯èª¤è¿½è¹¤
  - Artifact é è¦½

### 3. Artifact æ™ºèƒ½è™•ç†

ç³»çµ±è‡ªå‹•åµæ¸¬ä¸¦åˆ†é¡ï¼š
- ğŸ“„ æ–‡ä»¶ç”Ÿæˆ (Markdown, Code, Text)
- ğŸ”— URL é€£çµ
- ğŸ–¼ï¸ åœ–ç‰‡è³‡æº
- ğŸ“Š è³‡æ–™è¼¸å‡º

æ‰€æœ‰ artifacts åœ¨å³å´æ€ç¶­éˆä¸­é¡¯ç¤ºï¼Œä¸æ±¡æŸ“ä¸»è¦å°è©±æµã€‚

## ğŸ”„ äº‹ä»¶æµæ¶æ§‹

```mermaid
graph LR
    A[ç”¨æˆ¶è¼¸å…¥] --> B[EventAwareManus]
    B --> C[åŸ·è¡Œæ­¥é©Ÿ]
    C --> D[ç™¼é€ StepEvent]
    D --> E[WebSocket Stream]
    E --> F[å‰ç«¯é›™é¢æ¿]

    C --> C1[Think Event]
    C --> C2[Act Event]
    C --> C3[Observe Event]
    C --> C4[Final Event]

    F --> F1[å·¦å´: æœ€çµ‚ç­”æ¡ˆ]
    F --> F2[å³å´: æ€ç¶­éˆ]
```

## ğŸ› ï¸ æŠ€è¡“æ£§

### å¾Œç«¯
- **FastAPI**: é«˜æ€§èƒ½ Web æ¡†æ¶
- **Pydantic**: è³‡æ–™é©—è­‰èˆ‡åºåˆ—åŒ–
- **WebSocket**: å³æ™‚é›™å‘é€šä¿¡
- **EventBus**: äº‹ä»¶ç™¼å¸ƒè¨‚é–±ç³»çµ±

### å‰ç«¯
- **React 18**: UI æ¡†æ¶
- **TypeScript**: é¡å‹å®‰å…¨
- **Tailwind CSS**: æ¨£å¼ç³»çµ±
- **Vite**: å»ºç½®å·¥å…·

## ğŸ“¦ å®‰è£èˆ‡é‹è¡Œ

### ç’°å¢ƒéœ€æ±‚
- Python 3.10+
- Node.js 18+
- npm æˆ– yarn

### å¾Œç«¯å•Ÿå‹•

```bash
cd OpenManus
pip install -r requirements.txt
python web_server.py
```

ä¼ºæœå™¨é‹è¡Œæ–¼: `http://localhost:8000`

### å‰ç«¯å•Ÿå‹•

```bash
cd Hacker_UI_Design
npm install
npm run dev
```

é–‹ç™¼ä¼ºæœå™¨: `http://localhost:5173` (è‹¥è¢«ä½”ç”¨æœƒè‡ªå‹•éå¢è‡³ 5174, 5175...)

## ğŸ”Œ API ç«¯é»

### WebSocket
- `/ws` - ä¸»è¦ WebSocket é€£æ¥
  - äº‹ä»¶é¡å‹ï¼š
    - `step_event`: åŸ·è¡Œæ­¥é©Ÿäº‹ä»¶
    - `thinking_update`: æ€è€ƒç‹€æ…‹æ›´æ–°
    - `tool_event`: å·¥å…·åŸ·è¡Œäº‹ä»¶
    - `conversation`: å°è©±è¨Šæ¯

### HTTP
- `POST /api/chat` - ç™¼é€èŠå¤©è«‹æ±‚ï¼ˆSSE æµå¼éŸ¿æ‡‰ï¼‰
- `GET /api/status` - ç³»çµ±ç‹€æ…‹
- `GET /api/settings` - ç”¨æˆ¶è¨­å®š

## ğŸ¨ UI ç‰¹è‰²

### Hacker é¢¨æ ¼è¨­è¨ˆ
- é»‘è‰²èƒŒæ™¯ (#0a0a0a)
- éœ“è™¹ç¶ æ–‡å­— (#00ff00)
- æ–‡å­—ç™¼å…‰æ•ˆæœ (text-glow)
- çµ‚ç«¯æ©Ÿé¢¨æ ¼è¼¸å…¥ (manus>)

### äº’å‹•å…ƒç´ 
- å¯æ‘ºç–Šçš„æ€ç¶­éˆé¢æ¿
- å·¥å…·åŸ·è¡Œå³æ™‚ç‹€æ…‹
- Artifact é è¦½èˆ‡ä¸‹è¼‰
- å¿«æ·å‘½ä»¤æŒ‰éˆ•

## ğŸ“Š è³‡æ–™æµ

```
1. ç”¨æˆ¶è¼¸å…¥ â†’ ChatInterface
2. WebSocket ç™¼é€ â†’ Backend
3. EventAwareManus è™•ç†
4. æ¯å€‹æ­¥é©Ÿç™¼é€ StepEvent
5. å‰ç«¯æ¥æ”¶ä¸¦åˆ†æµï¼š
   - Final answers â†’ å·¦å´é¢æ¿
   - Step events â†’ å³å´æ€ç¶­éˆ
6. UI å³æ™‚æ›´æ–°
```

## ğŸ”§ æ“´å±•æ€§

### æ–°å¢äº‹ä»¶é¡å‹

```python
# åœ¨ step_event.py ä¸­
class EventPhase(Enum):
    THINK = "think"
    ACT = "act"
    OBSERVE = "observe"
    FINAL = "final"
    ERROR = "error"
    CUSTOM = "custom"  # æ–°å¢è‡ªå®šç¾©é¡å‹
```

### è‡ªå®šç¾©å·¥å…·æ•´åˆ

```python
# åœ¨ EventAwareManus ä¸­
def _extract_artifacts(self, result, tool_name):
    # æ–°å¢å·¥å…·çš„ artifact æ“·å–é‚è¼¯
    if tool_name == "YourCustomTool":
        # è‡ªå®šç¾©è™•ç†
```

## ğŸ› å·²çŸ¥å•é¡Œèˆ‡è§£æ±º

1. **ç™½å±å•é¡Œ**:
   - åŸå› ï¼šCSS èƒŒæ™¯è‰²è¨­å®šéŒ¯èª¤
   - è§£æ±ºï¼šä¿®æ­£ index.css ä¸­ `--background: #0a0a0a`

2. **é€£æ¥éŒ¯èª¤**:
   - åŸå› ï¼šAPI URL è¨­å®šéŒ¯èª¤
   - è§£æ±ºï¼šç¢ºä¿ .env ä¸­ `VITE_API_URL=http://localhost:8000`

3. **Port è¡çª**:
   - è§£æ±ºï¼šç³»çµ±æœƒè‡ªå‹•å°‹æ‰¾å¯ç”¨ port
   - æ¸…ç†ï¼š`fuser -k 8000/tcp` æˆ– `fuser -k 5173/tcp`

## ğŸš€ æœªä¾†æ”¹é€²æ–¹å‘

1. **æ•ˆèƒ½å„ªåŒ–**
   - [ ] è™›æ“¬æ»¾å‹•è™•ç†å¤§é‡äº‹ä»¶
   - [ ] äº‹ä»¶æ‰¹æ¬¡è™•ç†
   - [ ] å¿«å–æ©Ÿåˆ¶

2. **åŠŸèƒ½æ“´å……**
   - [ ] äº‹ä»¶æœå°‹èˆ‡éæ¿¾
   - [ ] æ€ç¶­éˆå°å‡ºåŠŸèƒ½
   - [ ] å¤šæœƒè©±ç®¡ç†

3. **è¦–è¦ºåŒ–å¢å¼·**
   - [ ] æ€ç¶­åœ–æ¨¡å¼
   - [ ] åŸ·è¡Œæ™‚é–“çµ±è¨ˆåœ–è¡¨
   - [ ] 3D äº‹ä»¶æµè¦–è¦ºåŒ–

## ğŸ“ æª”æ¡ˆçµæ§‹

```
core_agentic_brain/
â”œâ”€â”€ OpenManus/                    # å¾Œç«¯æ ¸å¿ƒ
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ agent/               # Agent å¯¦ä½œ
â”‚   â”‚   â”‚   â”œâ”€â”€ manus.py
â”‚   â”‚   â”‚   â””â”€â”€ event_aware_manus.py
â”‚   â”‚   â”œâ”€â”€ events/              # äº‹ä»¶ç³»çµ±
â”‚   â”‚   â”‚   â””â”€â”€ step_event.py
â”‚   â”‚   â””â”€â”€ tool/                # å·¥å…·é›†
â”‚   â””â”€â”€ web_server.py            # FastAPI ä¼ºæœå™¨
â”‚
â”œâ”€â”€ Hacker_UI_Design/            # å‰ç«¯ä»‹é¢
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/          # React å…ƒä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatInterface.tsx
â”‚   â”‚   â”‚   â””â”€â”€ StepEventPanel.tsx
â”‚   â”‚   â”œâ”€â”€ hooks/               # React Hooks
â”‚   â”‚   â””â”€â”€ services/            # API æœå‹™
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ README_INTEGRATION.md        # æœ¬æ–‡ä»¶
```

## ğŸ¤ è²¢ç»æŒ‡å—

1. Fork å°ˆæ¡ˆ
2. å‰µå»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. é–‹å•Ÿ Pull Request

## ğŸ“„ æˆæ¬Š

MIT License

## ğŸ”— ç›¸é—œè³‡æº

- [OpenManus å®˜æ–¹æ–‡æª”](https://openmanus.github.io)
- [OpenManus æ¶æ§‹æ·±åº¦è§£æ](https://dev.to/jamesli/openmanus-architecture-deep-dive-enterprise-ai-agent-development-with-real-world-case-studies-5hi4)
- [GitHub Repository](https://github.com/henryalps/OpenManus)
- [Foundation Agents](https://foundationagents.org/projects/openmanus/)
- [Manus.so](https://manus.so/p/openmanus-github)
- [Landscape of Thoughts](https://landscape-of-thoughts.github.io)

---

**Last Updated**: 2026-01-21
**Version**: 1.0.0
**Status**: Production Ready âœ…